<RootWidget>:
    orientation: "horizontal"
    padding: 6
    spacing: 6

    FloatLayout:
        size_hint_x: 0.75

        Image:
            source: "background.png"
            fit_mode: "contain"
            size_hint: 1, 1
            pos: self.parent.pos

        GolfGreen:
            id: golf
            size: self.size
            pos: self.pos
            canvas:
                Color:
                    rgba: 0, 0, 0, 0
                Rectangle:
                    pos: self.pos
                    size: self.size

        # Holes and labels
        Widget:
            canvas:
                Color:
                    rgba: 1, 1, 1, 1
                Ellipse:
                    pos: (golf.get_scaled_hole_pos(golf.holes[0])[0] - golf.holes[0]['radius'], golf.get_scaled_hole_pos(golf.holes[0])[1] - golf.holes[0]['radius'])
                    size: (golf.holes[0]['radius'] * 2, golf.holes[0]['radius'] * 2)
        Label:
            text: "H1: " + (str(golf.holes[0].get('last_points')) if golf.holes[0].get('last_points') is not None else "-")
            size_hint: None, None
            size: 100, 32
            font_size: 20
            pos: (golf.get_scaled_hole_pos(golf.holes[0])[0] - self.width / 2, golf.get_scaled_hole_pos(golf.holes[0])[1] + golf.holes[0]['radius'])

        Widget:
            canvas:
                Color:
                    rgba: 1, 1, 1, 1
                Ellipse:
                    pos: (golf.get_scaled_hole_pos(golf.holes[1])[0] - golf.holes[1]['radius'], golf.get_scaled_hole_pos(golf.holes[1])[1] - golf.holes[1]['radius'])
                    size: (golf.holes[1]['radius'] * 2, golf.holes[1]['radius'] * 2)
        Label:
            text: "H2: " + (str(golf.holes[1].get('last_points')) if golf.holes[1].get('last_points') is not None else "-")
            size_hint: None, None
            size: 100, 32
            font_size: 20
            pos: (golf.get_scaled_hole_pos(golf.holes[1])[0] - self.width / 2, golf.get_scaled_hole_pos(golf.holes[1])[1] + golf.holes[1]['radius'])

        Widget:
            canvas:
                Color:
                    rgba: 1, 1, 1, 1
                Ellipse:
                    pos: (golf.get_scaled_hole_pos(golf.holes[2])[0] - golf.holes[2]['radius'], golf.get_scaled_hole_pos(golf.holes[2])[1] - golf.holes[2]['radius'])
                    size: (golf.holes[2]['radius'] * 2, golf.holes[2]['radius'] * 2)
        Label:
            text: "H3: " + (str(golf.holes[2].get('last_points')) if golf.holes[2].get('last_points') is not None else "-")
            size_hint: None, None
            size: 100, 32
            font_size: 20
            pos: (golf.get_scaled_hole_pos(golf.holes[2])[0] - self.width / 2, golf.get_scaled_hole_pos(golf.holes[2])[1] + golf.holes[2]['radius'])

        Widget:
            canvas:
                Color:
                    rgba: 1, 1, 1, 1
                Ellipse:
                    pos: (golf.get_scaled_hole_pos(golf.holes[3])[0] - golf.holes[3]['radius'], golf.get_scaled_hole_pos(golf.holes[3])[1] - golf.holes[3]['radius'])
                    size: (golf.holes[3]['radius'] * 2, golf.holes[3]['radius'] * 2)
        Label:
            text: "H4: " + (str(golf.holes[3].get('last_points')) if golf.holes[3].get('last_points') is not None else "-")
            size_hint: None, None
            size: 100, 32
            font_size: 20
            pos: (golf.get_scaled_hole_pos(golf.holes[3])[0] - self.width / 2, golf.get_scaled_hole_pos(golf.holes[3])[1] + golf.holes[3]['radius'])

        Widget:
            canvas:
                Color:
                    rgba: 1, 1, 1, 1
                Ellipse:
                    pos: (golf.get_scaled_hole_pos(golf.holes[4])[0] - golf.holes[4]['radius'], golf.get_scaled_hole_pos(golf.holes[4])[1] - golf.holes[4]['radius'])
                    size: (golf.holes[4]['radius'] * 2, golf.holes[4]['radius'] * 2)
        Label:
            text: "H5: " + (str(golf.holes[4].get('last_points')) if golf.holes[4].get('last_points') is not None else "-")
            size_hint: None, None
            size: 100, 32
            font_size: 20
            pos: (golf.get_scaled_hole_pos(golf.holes[4])[0] - self.width / 2, golf.get_scaled_hole_pos(golf.holes[4])[1] + golf.holes[4]['radius'])

        Widget:
            canvas:
                Color:
                    rgba: 1, 1, 1, 1
                Ellipse:
                    pos: (golf.x + golf.ball_x - 10, golf.y + golf.ball_y - 10)
                    size: (10, 10)

    BoxLayout:
        orientation: "vertical"
        size_hint_x: 0.25
        spacing: 10
        padding: 10

        canvas.before:
            Color:
                rgba: 0.2, 0.2, 0.2, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: "Select Number of Players"
            size_hint_y: None
            height: 30

        BoxLayout:
            size_hint_y: None
            height: 40
            spacing: 5

            Button:
                text: "1 Player"
                on_press: golf.register_players(1)

            Button:
                text: "2 Players"
                on_press: golf.register_players(2)

            Button:
                text: "3 Players"
                on_press: golf.register_players(3)

        Label:
            text: "Players:\n" + "\n".join(golf.players)
            text_size: self.width, None
            halign: "left"
            valign: "top"
            size_hint_y: None
            height: self.texture_size[1]

        Button:
            text: "Next Player"
            size_hint_y: None
            height: 40
            on_press: golf.next_player()

        Label:
            text: "Current Player: " + golf.current_player
            size_hint_y: None
            height: 30

        Label:
            text: "Round: " + str(golf.current_round)
            size_hint_y: None
            height: 30