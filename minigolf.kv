<RootWidget>:
    orientation: "horizontal"
    padding: 6
    spacing: 6

    FloatLayout:
        size_hint_x: 0.75

        Image:
            source: "background.png"
            fit_mode: "contain"
            size_hint: 1, 1
            pos: self.parent.pos

        GolfGreen:
            id: golf
            size: self.size
            pos: self.pos

        # Draw holes dynamically
        Widget:
            canvas:
                Color:
                    rgba: 1, 1, 1, 1
                # Draw each hole
                InstructionGroup:
                    id: hole_group
                    canvas:
                        Color:
                            rgba: 1, 1, 1, 1
                        # This will be populated in Python if needed

        # Ball visual
        Widget:
            canvas:
                Color:
                    rgba: 1, 1, 1, 1
                Ellipse:
                    pos: (golf.x + golf.ball_x - 10, golf.y + golf.ball_y - 10)
                    size: (10, 10)

    BoxLayout:
        orientation: "vertical"
        size_hint_x: 0.25
        spacing: 10
        padding: 10

        Label:
            text: "Enter Player Names"
            size_hint_y: None
            height: 30

        TextInput:
            id: player_input
            hint_text: "Comma-separated names (max 3)"
            multiline: False
            size_hint_y: None
            height: 40

        Button:
            text: "Start Game"
            size_hint_y: None
            height: 40
            on_press:
                golf.register_players(player_input.text.split(","))

        Button:
            text: "Next Player"
            size_hint_y: None
            height: 40
            on_press:
                golf.next_player()

        Label:
            text: "Current Player: " + (golf.get_current_player() or "-")
            size_hint_y: None
            height: 30

        Label:
            text: "Round: " + str(golf.current_round)
            size_hint_y: None
            height: 30

        Label:
            text: "Scores:"
            size_hint_y: None
            height: 30

        ScrollView:
            GridLayout:
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                Label:
                    text: "\\n".join([name + ": " + str(golf.player_scores.get(name, [])) for name in golf.players])
                    text_size: self.width, None
                    size_hint_y: None
                    height: self.texture_size[1]